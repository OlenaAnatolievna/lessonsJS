<!DOCTYPE html>
<html lang="en">
<head>
   <meta charset="UTF-8">
   <meta http-equiv="X-UA-Compatible" content="IE=edge">
   <meta name="viewport" content="width=device-width, initial-scale=1.0">
   <link rel="stylesheet" href="css/style.css">
   <title>LESSON 12</title>
</head>
<body>
   <header class="header">
      <h1 class="header__title">Задача 2</h1>
   </header>
   <main class="page">
      <div class="page__container">
         <div class="page__result">
            <!-- Дано масив 30 випадкових цілих чисел. Підрахувати скільки було обмінів під час сортування змішуванням. -->
            <script>
               // ------ функція генерації числа
               function getRundomNumber(minValue, maxValue) {
                     return (minValue + Math.floor(Math.random()*(maxValue - minValue +1)))
                  }
                  // ------ функція генерації масиву
                  function getSomeArray(someArrayLenght, minValue, maxValue) {
                     let someArray = []
                     for (let i = 0; i < someArrayLenght; i++) {
                        let rundomNumber = getRundomNumber(minValue, maxValue)
                        someArray.push(rundomNumber)
                     }
                     return someArray
                  }
                  // ------ функція обмінів
                  function swap(randomArray, i, j) {
                     let temp = randomArray[i];
                        randomArray[i] = randomArray[j]
                        randomArray[j] = temp
                  }
                  // ------ функція підрахунку обмінів
                  function getChangesNumber(randomArray) {
                     let leftIndex = 0
                     let rightIndex = randomArray.length - 1
                     let counter = 0
                     while (leftIndex < rightIndex) {
                        for (let idx = leftIndex; idx < rightIndex; idx++) {
                           if (randomArray[idx] > randomArray[idx + 1]) {
                              swap(randomArray, idx, idx + 1)
                              counter++
                           }
                        }
                        rightIndex--
                        for (let idx = rightIndex; idx > leftIndex; idx--) {
                           if (randomArray[idx] < randomArray[idx - 1]) {
                              swap(randomArray, idx, idx - 1)
                              counter++
                           }
                        }
                        leftIndex++
                     }
                     return counter
                  }
                  // ------ задаємо змінні
                  let randomArray = getSomeArray(30, 1, 100)
                  let changesNumber = getChangesNumber(randomArray)
                  // ------ виводимо результат:
                  document.write(`Відсортований масив:<br> ${randomArray}<br>`)
                  document.write(`Кількість обмінів:<br> ${changesNumber}<br>`)
            </script>
         </div>
         <a class="page__bottom" href="index.html">BACK</a>
      </div>
   </main>
</div>
</body>
</html>